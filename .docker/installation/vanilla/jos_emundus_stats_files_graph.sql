CREATE  VIEW `jos_emundus_stats_files_graph` AS select `ecc`.`id` AS `id`,count(distinct `ecc`.`fnum`) AS `nb`,`esc`.`year` AS `schoolyear`,`esc`.`label` AS `campaign`,`esc`.`training` AS `course`,`ecc`.`submitted` AS `submitted`,`ecc`.`status` AS `status`,`ess`.`value` AS `value`,`ecc`.`campaign_id` AS `campaign_id`,`ecc`.`published` AS `published` from (((`jos_emundus_campaign_candidature` `ecc` left join `jos_emundus_setup_campaigns` `esc` on((`esc`.`id` = `ecc`.`campaign_id`))) left join `jos_emundus_setup_status` `ess` on((`ess`.`step` = `ecc`.`status`))) left join `jos_users` `u` on((`u`.`id` = `ecc`.`user_id`))) where (`ecc`.`published` <> -(1)) group by `ecc`.`campaign_id`,`ecc`.`status`,`ecc`.`id`